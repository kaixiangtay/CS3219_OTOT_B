{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tkx/Desktop/CS3219_OTOT_B/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tkx/Desktop/CS3219_OTOT_B/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/tkx/Desktop/CS3219_OTOT_B/frontend/src/components/Tables/FoodTable.js\";\nimport React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport FoodModal from '../Modals/FoodModal';\n\nfunction FoodTable(props) {\n  var _this = this;\n\n  var deleteItem = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var confirmDelete;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              confirmDelete = window.confirm('Delete item?');\n\n              if (!confirmDelete) {\n                _context.next = 6;\n                break;\n              }\n\n              props.deleteFood(id);\n              _context.next = 5;\n              return fetch(\"http://localhost:8080/api/food/\".concat(id), {\n                method: 'DELETE'\n              });\n\n            case 5:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function deleteItem(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var createFoodTable = props.foodList.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }\n    }, item.foodname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }\n    }, item.expirydate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }\n    }, item.person), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }, item.phone), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FoodModal, {\n      buttonLabel: \"Edit Food\",\n      item: item,\n      updateFood: props.updateFood,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      size: \"sm\",\n      onClick: function onClick() {\n        return deleteItem(item.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, \"Delete\"))));\n  });\n  var emptyFoodTable = /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 26\n    }\n  }, \"No data to be loaded, Pls proceed to add item!!!\");\n  return /*#__PURE__*/React.createElement(Table, {\n    bordered: true,\n    dark: true,\n    responsive: true,\n    hover: true,\n    striped: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"Food Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"Expiry Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"Person\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"Modify Food\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, console.log(props.foodList), props.foodList.length !== 0 ? createFoodTable : emptyFoodTable));\n}\n\nexport default FoodTable;","map":{"version":3,"sources":["/Users/tkx/Desktop/CS3219_OTOT_B/frontend/src/components/Tables/FoodTable.js"],"names":["React","Table","Button","FoodModal","FoodTable","props","deleteItem","id","confirmDelete","window","confirm","deleteFood","fetch","method","createFoodTable","foodList","map","item","foodname","expirydate","person","phone","updateFood","emptyFoodTable","console","log","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,YAA9B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACxB,MAAMC,UAAU;AAAA,wEAAG,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,cAAAA,aADa,GACGC,MAAM,CAACC,OAAP,CAAe,cAAf,CADH;;AAAA,mBAEbF,aAFa;AAAA;AAAA;AAAA;;AAGfH,cAAAA,KAAK,CAACM,UAAN,CAAiBJ,EAAjB;AAHe;AAAA,qBAIFK,KAAK,0CAAmCL,EAAnC,GAAyC;AACzDM,gBAAAA,MAAM,EAAE;AADiD,eAAzC,CAJH;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVP,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAUA,MAAMQ,eAAe,GAAGT,KAAK,CAACU,QAAN,CAAeC,GAAf,CAAmB,UAAAC,IAAI,EAAI;AACjD,wBACE;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACV,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKU,IAAI,CAACC,QAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACE,UAAV,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,IAAI,CAACG,MAAV,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAACI,KAAV,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,WAAW,EAAC,WAAvB;AAAmC,MAAA,IAAI,EAAEJ,IAAzC;AAA+C,MAAA,UAAU,EAAEZ,KAAK,CAACiB,UAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAuB,MAAA,IAAI,EAAC,IAA5B;AAAiC,MAAA,OAAO,EAAE;AAAA,eAAMhB,UAAU,CAACW,IAAI,CAACV,EAAN,CAAhB;AAAA,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF,CALF,CADF;AAcD,GAfuB,CAAxB;AAiBA,MAAMgB,cAAc,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDAAvB;AAIA,sBACE,oBAAC,KAAD;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,UAAU,MAA/B;AAAgC,IAAA,KAAK,MAArC;AAAsC,IAAA,OAAO,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,CADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,OAAO,CAACC,GAAR,CAAYpB,KAAK,CAACU,QAAlB,CADH,EAEGV,KAAK,CAACU,QAAN,CAAeW,MAAf,KAA0B,CAA1B,GAA8BZ,eAA9B,GAAgDS,cAFnD,CAVF,CADF;AAiBD;;AAED,eAAenB,SAAf","sourcesContent":["import React from 'react'\nimport { Table, Button } from 'reactstrap';\nimport FoodModal from '../Modals/FoodModal'\n\nfunction FoodTable(props) {\n  const deleteItem = async (id) => {\n    let confirmDelete = window.confirm('Delete item?')\n    if (confirmDelete) {\n      props.deleteFood(id)\n      return await fetch(`http://localhost:8080/api/food/${id}`, {\n        method: 'DELETE'\n      })\n    }\n  }\n\n  const createFoodTable = props.foodList.map(item => {\n    return (\n      <tr key={item.id}>\n        <td>{item.foodname}</td>\n        <td>{item.expirydate}</td>\n        <td>{item.person}</td>\n        <td>{item.phone}</td>\n        <td>\n          <div>\n            <FoodModal buttonLabel=\"Edit Food\" item={item} updateFood={props.updateFood} />\n            <Button color=\"danger\" size=\"sm\" onClick={() => deleteItem(item.id)}>Delete</Button>\n          </div>\n        </td>\n      </tr>\n    )\n  })\n\n  const emptyFoodTable = <h3 >\n                          No data to be loaded, Pls proceed to add item!!!\n                        </h3>\n\n  return (\n    <Table bordered dark responsive hover striped>\n      <thead>\n        <tr>\n          <th>Food Name</th>\n          <th>Expiry Date</th>\n          <th>Person</th>\n          <th>Phone</th>\n          <th>Modify Food</th>\n        </tr>\n      </thead>\n      <tbody>\n        {console.log(props.foodList)}\n        {props.foodList.length !== 0 ? createFoodTable : emptyFoodTable}\n      </tbody>\n    </Table>\n  )\n}\n\nexport default FoodTable"]},"metadata":{},"sourceType":"module"}