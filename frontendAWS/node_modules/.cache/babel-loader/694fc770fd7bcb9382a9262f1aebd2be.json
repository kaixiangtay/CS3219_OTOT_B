{"ast":null,"code":"import _toConsumableArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tkx/Desktop/backup2/frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport ModalForm from './Components/Modals/Modal';\nimport DataTable from './Components/Tables/DataTable';\n\nfunction App(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var getItems =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var tempFoodList;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              tempFoodList = [];\n              fetch('http://localhost:8080/api/food', {\n                method: 'GET'\n              }).then(function (response) {\n                return response.json();\n              }).then(function (items) {\n                console.log(items.data);\n\n                for (var i = 0; i < items.data.length; i++) {\n                  tempFoodList.push({\n                    id: items.data[i]._id,\n                    foodname: items.data[i].foodname,\n                    expirydate: items.data[i].expiriydate,\n                    person: items.data[i].person,\n                    phone: items.data[i].phone\n                  });\n                }\n\n                setItems(tempFoodList);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getItems() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addItemToState = function addItemToState(item) {\n    setItems([].concat(_toConsumableArray(items), [item]));\n  };\n\n  var updateState = function updateState(item) {\n    var itemIndex = items.findIndex(function (data) {\n      return data.id === item.id;\n    });\n    var newArray = [].concat(_toConsumableArray(items.slice(0, itemIndex)), [item], _toConsumableArray(items.slice(itemIndex + 1)));\n    setItems(newArray);\n  };\n\n  var deleteItemFromState = function deleteItemFromState(id) {\n    var updatedItems = items.filter(function (item) {\n      return item.id !== id;\n    });\n    setItems(updatedItems);\n  };\n\n  useEffect(function () {\n    getItems();\n  }, [items]);\n  return React.createElement(Container, {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      margin: \"20px 0\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"CRUD Database\"))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(DataTable, {\n    items: items,\n    updateState: updateState,\n    deleteItemFromState: deleteItemFromState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(ModalForm, {\n    buttonLabel: \"Add Item\",\n    addItemToState: addItemToState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tkx/Desktop/backup2/frontend/src/App.js"],"names":["React","useState","useEffect","Container","Row","Col","ModalForm","DataTable","App","props","items","setItems","getItems","tempFoodList","fetch","method","then","response","json","console","log","data","i","length","push","id","_id","foodname","expirydate","expiriydate","person","phone","addItemToState","item","updateState","itemIndex","findIndex","newArray","slice","deleteItemFromState","updatedItems","filter","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'reactstrap'\nimport ModalForm from './Components/Modals/Modal'\nimport DataTable from './Components/Tables/DataTable'\n\nfunction App(props) {\n\n  const [items, setItems] = useState([])\n\n  const getItems = async () => {\n    var tempFoodList = []\n    fetch('http://localhost:8080/api/food', {\n      method: 'GET'\n    })\n      .then(response => response.json())\n      .then(items => {\n        console.log(items.data)\n        for (var i = 0; i < items.data.length; i++) {\n          tempFoodList.push({\n            id: items.data[i]._id,\n            foodname: items.data[i].foodname,\n            expirydate: items.data[i].expiriydate,\n            person: items.data[i].person,\n            phone: items.data[i].phone\n          })\n\n        }\n        setItems(tempFoodList)\n      })\n  }\n\n  const addItemToState = (item) => {\n    setItems([...items, item])\n  }\n\n  const updateState = (item) => {\n    const itemIndex = items.findIndex(data => data.id === item.id)\n    const newArray = [...items.slice(0, itemIndex), item, ...items.slice(itemIndex + 1)]\n    setItems(newArray)\n  }\n\n  const deleteItemFromState = (id) => {\n    const updatedItems = items.filter(item => item.id !== id)\n    setItems(updatedItems)\n  }\n\n  useEffect(() => {\n    getItems()\n  }, [items]);\n\n  return (\n    <Container className=\"App\">\n      <Row>\n        <Col>\n          <h1 style={{ margin: \"20px 0\" }}>CRUD Database</h1>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <DataTable items={items} updateState={updateState} deleteItemFromState={deleteItemFromState} />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <ModalForm buttonLabel=\"Add Item\" addItemToState={addItemToState} />\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}