{"ast":null,"code":"import _toConsumableArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tkx/Desktop/backup2/frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport ModalForm from './Components/Modals/Modal';\nimport DataTable from './Components/Tables/DataTable';\n\nfunction App(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var getItems =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, data, tempFoodList, i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:8080/api/food', {\n                method: 'GET'\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n              tempFoodList = [];\n\n              for (i = 0; i < data.length(); i++) {\n                tempFoodList.push({\n                  id: data.data[i]._id,\n                  foodname: data.data[i].foodname,\n                  expirydate: data.data[i].expiriydate,\n                  person: data.data[i].person,\n                  phone: data.data[i].phone\n                });\n              } // fetch('http://localhost:8080/api/food')\n              //   .then(response => response.json())\n              //   .then(items => {\n              //     var tempFoodList = []\n              //     console.log(items)\n              //     setItems(tempFoodList)\n              //   })\n\n\n              setItems(tempFoodList);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getItems() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addItemToState = function addItemToState(item) {\n    setItems([].concat(_toConsumableArray(items), [item]));\n  };\n\n  var updateState = function updateState(item) {\n    var itemIndex = items.findIndex(function (data) {\n      return data.id === item.id;\n    });\n    var newArray = [].concat(_toConsumableArray(items.slice(0, itemIndex)), [item], _toConsumableArray(items.slice(itemIndex + 1)));\n    setItems(newArray);\n  };\n\n  var deleteItemFromState = function deleteItemFromState(id) {\n    var updatedItems = items.filter(function (item) {\n      return item.id !== id;\n    });\n    setItems(updatedItems);\n  };\n\n  useEffect(function () {\n    getItems();\n  }, [items]);\n  return React.createElement(Container, {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      margin: \"20px 0\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"CRUD Database\"))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(DataTable, {\n    items: items,\n    updateState: updateState,\n    deleteItemFromState: deleteItemFromState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(ModalForm, {\n    buttonLabel: \"Add Item\",\n    addItemToState: addItemToState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tkx/Desktop/backup2/frontend/src/App.js"],"names":["React","useState","useEffect","Container","Row","Col","ModalForm","DataTable","App","props","items","setItems","getItems","fetch","method","response","json","data","tempFoodList","i","length","push","id","_id","foodname","expirydate","expiriydate","person","phone","addItemToState","item","updateState","itemIndex","findIndex","newArray","slice","deleteItemFromState","updatedItems","filter","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'reactstrap'\nimport ModalForm from './Components/Modals/Modal'\nimport DataTable from './Components/Tables/DataTable'\n\nfunction App(props) {\n\n  const [items, setItems] = useState([])\n\n  const getItems = async () => {\n    const response = await fetch('http://localhost:8080/api/food', {\n      method: 'GET'\n    })\n    const data = await response.json()\n    var tempFoodList = []\n    for (var i = 0; i < data.length(); i++) {\n      tempFoodList.push({\n        id: data.data[i]._id,\n        foodname: data.data[i].foodname,\n        expirydate: data.data[i].expiriydate,\n        person: data.data[i].person,\n        phone: data.data[i].phone\n      })\n    }\n    // fetch('http://localhost:8080/api/food')\n    //   .then(response => response.json())\n    //   .then(items => {\n    //     var tempFoodList = []\n    //     console.log(items)\n\n    //     setItems(tempFoodList)\n    //   })\n    setItems(tempFoodList)\n  }\n\n  const addItemToState = (item) => {\n    setItems([...items, item])\n  }\n\n  const updateState = (item) => {\n    const itemIndex = items.findIndex(data => data.id === item.id)\n    const newArray = [...items.slice(0, itemIndex), item, ...items.slice(itemIndex + 1)]\n    setItems(newArray)\n  }\n\n  const deleteItemFromState = (id) => {\n    const updatedItems = items.filter(item => item.id !== id)\n    setItems(updatedItems)\n  }\n\n  useEffect(() => {\n    getItems()\n  }, [items]);\n\n  return (\n    <Container className=\"App\">\n      <Row>\n        <Col>\n          <h1 style={{ margin: \"20px 0\" }}>CRUD Database</h1>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <DataTable items={items} updateState={updateState} deleteItemFromState={deleteItemFromState} />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <ModalForm buttonLabel=\"Add Item\" addItemToState={addItemToState} />\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}