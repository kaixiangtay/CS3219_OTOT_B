{"ast":null,"code":"import _toConsumableArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tkx/Desktop/backup2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tkx/Desktop/backup2/frontend/src/Homepage/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport FoodModal from '../components/Modals/FoodModal';\nimport FoodTable from '../components/Tables/FoodTable';\n\nfunction Home() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      foodList = _useState2[0],\n      setFoodList = _useState2[1];\n\n  var getfoodList =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var tempFoodList;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              tempFoodList = [];\n              fetch('http://localhost:8080/api/food', {\n                method: 'GET'\n              }).then(function (response) {\n                return response.json();\n              }).then(function (foodList) {\n                for (var i = 0; i < foodList.data.length; i++) {\n                  tempFoodList.push({\n                    id: foodList.data[i]._id,\n                    foodname: foodList.data[i].foodname,\n                    expirydate: foodList.data[i].expirydate,\n                    person: foodList.data[i].person,\n                    phone: foodList.data[i].phone\n                  });\n                }\n\n                setFoodList(tempFoodList);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getfoodList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addFood = function addFood(item) {\n    setFoodList([].concat(_toConsumableArray(foodList), [item]));\n  };\n\n  var updateFood = function updateFood(item) {\n    var tempFoodList = [];\n    tempFoodList = foodList.map(function (curr) {\n      return curr.id === item.id ? item : curr;\n    });\n    setFoodList(tempFoodList);\n  };\n\n  var deleteFood = function deleteFood(id) {\n    var tempFoodList = [];\n    tempFoodList = foodList.filter(function (item) {\n      return item.id !== id;\n    });\n    setFoodList(tempFoodList);\n  };\n\n  useEffect(function () {\n    getfoodList();\n  }, [foodList]);\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"CRUD Food Tracker\"))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(FoodTable, {\n    foodList: foodList,\n    updateFood: updateFood,\n    deleteFood: deleteFood,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(FoodModal, {\n    buttonLabel: \"Add Food\",\n    addFood: addFood,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/tkx/Desktop/backup2/frontend/src/Homepage/Home.js"],"names":["React","useState","useEffect","Container","Row","Col","FoodModal","FoodTable","Home","foodList","setFoodList","getfoodList","tempFoodList","fetch","method","then","response","json","i","data","length","push","id","_id","foodname","expirydate","person","phone","addFood","item","updateFood","map","curr","deleteFood","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'reactstrap'\nimport FoodModal from '../components/Modals/FoodModal'\nimport FoodTable from '../components/Tables/FoodTable'\n\nfunction Home() {\n\n    const [foodList, setFoodList] = useState([])\n\n    const getfoodList = async () => {\n        var tempFoodList = []\n        fetch('http://localhost:8080/api/food', {\n            method: 'GET'\n        })\n            .then(response => response.json())\n            .then(foodList => {\n                for (var i = 0; i < foodList.data.length; i++) {\n                    tempFoodList.push({\n                        id: foodList.data[i]._id,\n                        foodname: foodList.data[i].foodname,\n                        expirydate: foodList.data[i].expirydate,\n                        person: foodList.data[i].person,\n                        phone: foodList.data[i].phone\n                    })\n                }\n                setFoodList(tempFoodList)\n            })\n    }\n\n    const addFood = (item) => {\n        setFoodList([...foodList, item])\n    }\n\n    const updateFood = (item) => {\n        var tempFoodList = []\n        tempFoodList = foodList.map(curr => curr.id === item.id ? item : curr)\n        setFoodList(tempFoodList);\n    }\n\n    const deleteFood = (id) => {\n        var tempFoodList = []\n        tempFoodList = foodList.filter(item => item.id !== id)\n        setFoodList(tempFoodList)\n    }\n\n    useEffect(() => {\n        getfoodList()\n    }, [foodList]);\n\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>CRUD Food Tracker</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <FoodTable foodList={foodList} updateFood={updateFood} deleteFood={deleteFood} />\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <FoodModal buttonLabel=\"Add Food\" addFood={addFood} />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}